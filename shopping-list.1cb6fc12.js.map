{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-b8857d9d5ea2d9e9.js","node_modules/@parcel/runtime-js/lib/runtime-643dfc921be0cb37.js","node_modules/@parcel/runtime-js/lib/runtime-6b2b97763c126c45.js","node_modules/@parcel/runtime-js/lib/runtime-634f804d0a48911e.js","node_modules/@parcel/runtime-js/lib/runtime-94d9f55139db7716.js","node_modules/@parcel/runtime-js/lib/runtime-8a49fe8b0806d407.js","node_modules/@parcel/runtime-js/lib/runtime-2db8acb44c116833.js","node_modules/@parcel/runtime-js/lib/runtime-5bd27996b0e096c1.js","node_modules/@parcel/runtime-js/lib/runtime-b9f75d3541046f41.js","src/js/shopping-list/shopping-markup.js","src/shopping-list.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"f9bx4\\\":\\\"shopping-list.1cb6fc12.js\\\",\\\"lp5u4\\\":\\\"sprite.4fd37ecc.svg\\\",\\\"3244h\\\":\\\"empty-logo.4abada78.png\\\",\\\"jCYVU\\\":\\\"amazon.626c9508.png\\\",\\\"dm81U\\\":\\\"amazon@2x.104a65be.png\\\",\\\"h2fYN\\\":\\\"apple.652b354e.png\\\",\\\"4EHhF\\\":\\\"apple@2x.15632d7d.png\\\",\\\"kptGM\\\":\\\"bookShop.920db583.png\\\",\\\"dEH5X\\\":\\\"bookShop@2x.64833714.png\\\"}\"));","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"lp5u4\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"3244h\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"jCYVU\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"dm81U\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"h2fYN\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"4EHhF\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"kptGM\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"dEH5X\")).toString();","import sprite from '../../images/sprite.svg';\nimport alternativeBooks from '../../images/book-logo/empty-logo.png';\nimport alternativeBooks_2x from '../../images/book-logo/empty-logo.png';\nimport amazonImage from '../../images/card/amazon.png';\nimport amazonImage_2x from '../../images/card/amazon@2x.png';\nimport appleImage from '../../images/card/apple.png';\nimport appleImage_2x from '../../images/card/apple@2x.png';\nimport bookshopImage from '../../images/card/bookShop.png';\nimport bookshopImage_2x from '../../images/card/bookShop@2x.png';\n\nexport const booksListRef = document.querySelector('.shop-books-list');\nexport const paginationRef = document.querySelector('.pagination');\nconst TOTAL_BOOKS_PER_PAGE = 3;\n\nfunction getBooksPageMarkup(bookList, currentPage = 1) {\n  const startIndex = (currentPage - 1) * TOTAL_BOOKS_PER_PAGE;\n  const endIndex = startIndex + TOTAL_BOOKS_PER_PAGE;\n  \n  return getBooksMarkup(bookList.slice(startIndex, endIndex));\n}\n\nfunction getBtnsMarkup(bookList) {\n  const totalPages = Math.ceil(bookList.length / TOTAL_BOOKS_PER_PAGE);\n  let btnsMarkup = '';\n\n  for (let page = 1; page <= totalPages; page += 1) {\n    btnsMarkup += `<button class=\"page-btn\">${page}</button>`;\n  }\n  return btnsMarkup;\n}\n\nfunction getBooksMarkup(bookList) {\n  return bookList\n    .map(\n      ({\n        _id,\n        book_image,\n        buy_links,\n        title,\n        book_image_width,\n        book_image_height,\n        list_name,\n        description,\n        author,\n      }) => `\n      <li class=\"gallery-item\">\n        <img class=\"gallery-image\"\n          src=\"${book_image}\"\n          width=\"${book_image_width}\"\n          height=\"${book_image_height}\"\n          alt=\"${title}\" />\n        <div class=\"div_card\">\n          <h2 class=\"title_card\">${title}</h2>\n          <p class=\"category-book\">${list_name}</p>\n          <p class=\"card_text\">${description}</p>\n          <p class=\"card_avter\">${author}</p>\n        </div>\n          <div class=\"list-shops\">\n            <a class=\"shop-link\" href=\"${buy_links[0].url}\"\n              target=\"_blank\" crossorigin=\"anonymous\"\n              rel=\"noopener noreferrer\" >\n                <img class=\"img-amazon\"\n                  src=\"${amazonImage}\"\n                  srcset=\"${amazonImage_2x} 2x\"\n                  alt=\"Amazon shop\" />\n            </a>\n            <a class=\"shop-link\" href=\"${buy_links[1].url}\"\n              target=\"_blank\" crossorigin=\"anonymous\" rel=\"noopener noreferrer\" >\n                <img class=\"img-apple\"\n                  src=\"${appleImage}\"\n                  srcset=\"${appleImage_2x} 2x\"\n                  alt=\"Apple shop\" />\n            </a>\n            <a class=\"shop-link\" href=\"${buy_links[4].url}\"\n              target=\"_blank\" crossorigin=\"anonymous\"  rel=\"noopener noreferrer\">\n                <img class=\"img-bookshop\"\n                  src=\"${bookshopImage}\"\n                  srcset=\"${bookshopImage_2x} 2x\"\n                  alt=\"Book shop\" />\n            </a>\n          </div>\n          \n          <button class=\"btn-card_remove\" data-book-id=\"${_id}\">\n            <svg class=\"btn-svg-remove\">\n              <use href=\"${sprite}#icon-trash\"></use>\n            </svg>\n          </button>\n      </li>\n      `)\n    .join('');\n}\n\nfunction getEmptyShopListMarkup() {\n  return `\n  <p class=\"empty-shop-text\">This page is empty, add some books and proceed to order.</p>\n  <img class=\"empty-shop-img\" src=\"${alternativeBooks}\" srcset=\"${alternativeBooks_2x} 2x\" alt=\"Alternative Books, when shopping list is empty\">\n  `;\n}\n\nexport function renderShopListSection(bookList) {\n  if (bookList) {\n    booksListRef.innerHTML = getBooksPageMarkup(bookList);\n    paginationRef.innerHTML = getBtnsMarkup(bookList);\n\n    const firstPageBtn = document.querySelector('.page-btn');\n    firstPageBtn.classList.add('active-page');\n  } else {\n    const shopBooksWrapper = document.querySelector('.shopping-books-wrapper');\n    shopBooksWrapper.classList.add('empty');\n\n    booksListRef.innerHTML = getEmptyShopListMarkup();\n    paginationRef.innerHTML = '';\n  }\n}\n\nexport function renderSelectedBooksPage(bookList, currentPage) {\n  booksListRef.innerHTML = getBooksPageMarkup(bookList, currentPage);\n}","import {\n  booksListRef,\n  paginationRef,\n  renderShopListSection,\n  renderSelectedBooksPage,\n} from './js/shopping-list/shopping-markup';\n\nfunction getBookListFromStorage() {\n  return JSON.parse(localStorage.getItem('SHOPPING-BOOKS-LIST'));\n}\n\nfunction checkViewPortForSupportDisplay() {\n  const supportRef = document.querySelector('.support');\n  const viewportWidth = window.innerWidth;\n\n  if (viewportWidth < 1440) {\n    supportRef.classList.add('is-hide');\n  }\n}\n\nfunction removeBookInLocalStorage(bookId) {\n  const bookList = getBookListFromStorage();\n  const updateBookList = bookList.filter(book => book._id !== bookId);\n\n  if (updateBookList.length === 0) {\n    localStorage.removeItem('SHOPPING-BOOKS-LIST');\n  } else {\n    localStorage.setItem('SHOPPING-BOOKS-LIST', JSON.stringify(updateBookList));\n  }\n}\n\ncheckViewPortForSupportDisplay();\nrenderShopListSection(getBookListFromStorage());\n\nbooksListRef.addEventListener('click', ({ target }) => {\n  const bookCard = target.closest('.btn-card_remove');\n  if (bookCard) {\n    const bookId = bookCard.dataset.bookId;\n\n    removeBookInLocalStorage(bookId);\n    renderShopListSection(getBookListFromStorage());\n  }\n});\n\npaginationRef.addEventListener('click', ({ target }) => {\n  const clickOnBtn = target.closest('.page-btn');\n\n  if (clickOnBtn) {\n    const activePage = paginationRef.querySelector('.active-page');\n    if (activePage) {\n      activePage.classList.remove('active-page');\n    }\n    target.classList.add('active-page');\n\n    renderSelectedBooksPage(getBookListFromStorage(), target.textContent);\n  }\n});"],"names":["$ef7689007096c8a0$export$6503ec6e8aabbaf","$ef7689007096c8a0$export$f7ad0328861e2f03","$ef7689007096c8a0$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$a4212a039eccdb43$exports","URL","resolve","import","meta","url","toString","$8ada167d27c0a203$exports","$6cd41d3c13e27335$exports","$8fb2dc9a11a59b86$exports","$fa1fc8473201c228$exports","$359844964fbdd736$exports","$4be9924e33f3ebba$exports","$b351f32617ce9831$exports","$44b1437bba8bd6f3$export$e37bf901f813b69","document","querySelector","$44b1437bba8bd6f3$export$282ede1754680aae","$44b1437bba8bd6f3$var$getBooksPageMarkup","bookList","currentPage","startIndex","endIndex","map","_id","book_image","buy_links","title","book_image_width","book_image_height","list_name","description","author","$parcel$interopDefault","join","$44b1437bba8bd6f3$var$getBooksMarkup","slice","$44b1437bba8bd6f3$export$c6cc08f1aa92a632","innerHTML","totalPages","Math","ceil","btnsMarkup","page","$44b1437bba8bd6f3$var$getBtnsMarkup","classList","add","$e4901028ceec97df$var$getBookListFromStorage","localStorage","getItem","supportRef","window","innerWidth","$e4901028ceec97df$var$checkViewPortForSupportDisplay","addEventListener","target","bookCard","closest","bookId","updateBookList","filter","book","removeItem","setItem","stringify","$e4901028ceec97df$var$removeBookInLocalStorage","dataset","activePage","remove","textContent"],"version":3,"file":"shopping-list.1cb6fc12.js.map"}