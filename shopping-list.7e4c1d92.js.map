{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","node_modules/@parcel/runtime-js/lib/runtime-04b3dc0ee69a809e.js","node_modules/@parcel/runtime-js/lib/runtime-13548ecc5972fd51.js","node_modules/@parcel/runtime-js/lib/runtime-5d97d9a573f2fa6b.js","node_modules/@parcel/runtime-js/lib/runtime-e4da14ac1826c30b.js","node_modules/@parcel/runtime-js/lib/runtime-a1122c2bb4ee384c.js","node_modules/@parcel/runtime-js/lib/runtime-58ff5c7474df7c22.js","node_modules/@parcel/runtime-js/lib/runtime-0856e6ad936025ce.js","node_modules/@parcel/runtime-js/lib/runtime-6ad7bd2f4caa674d.js","node_modules/@parcel/runtime-js/lib/runtime-07b52ff06b071e9a.js","src/js/shopping-list/shopping-markup.js","src/shopping-list.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","\"use strict\";\n\nvar bundleURL = {};\n\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n\n  return value;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"jSFKT\\\":\\\"shopping-list.7e4c1d92.js\\\",\\\"ee16w\\\":\\\"sprite.4fd37ecc.svg\\\",\\\"fn0ZR\\\":\\\"empty-logo.4abada78.png\\\",\\\"kNold\\\":\\\"amazon.626c9508.png\\\",\\\"37PkM\\\":\\\"amazon@2x.104a65be.png\\\",\\\"5yj2h\\\":\\\"apple.652b354e.png\\\",\\\"gAf7a\\\":\\\"apple@2x.15632d7d.png\\\",\\\"3rtvf\\\":\\\"bookShop.920db583.png\\\",\\\"l5mUX\\\":\\\"bookShop@2x.64833714.png\\\"}\"));","module.exports = require('./helpers/bundle-url').getBundleURL('jSFKT') + require('./helpers/bundle-manifest').resolve(\"ee16w\");","module.exports = require('./helpers/bundle-url').getBundleURL('jSFKT') + require('./helpers/bundle-manifest').resolve(\"fn0ZR\");","module.exports = require('./helpers/bundle-url').getBundleURL('jSFKT') + require('./helpers/bundle-manifest').resolve(\"kNold\");","module.exports = require('./helpers/bundle-url').getBundleURL('jSFKT') + require('./helpers/bundle-manifest').resolve(\"37PkM\");","module.exports = require('./helpers/bundle-url').getBundleURL('jSFKT') + require('./helpers/bundle-manifest').resolve(\"5yj2h\");","module.exports = require('./helpers/bundle-url').getBundleURL('jSFKT') + require('./helpers/bundle-manifest').resolve(\"gAf7a\");","module.exports = require('./helpers/bundle-url').getBundleURL('jSFKT') + require('./helpers/bundle-manifest').resolve(\"3rtvf\");","module.exports = require('./helpers/bundle-url').getBundleURL('jSFKT') + require('./helpers/bundle-manifest').resolve(\"l5mUX\");","import sprite from '../../images/sprite.svg';\nimport alternativeBooks from '../../images/book-logo/empty-logo.png';\nimport alternativeBooks_2x from '../../images/book-logo/empty-logo.png';\nimport amazonImage from '../../images/card/amazon.png';\nimport amazonImage_2x from '../../images/card/amazon@2x.png';\nimport appleImage from '../../images/card/apple.png';\nimport appleImage_2x from '../../images/card/apple@2x.png';\nimport bookshopImage from '../../images/card/bookShop.png';\nimport bookshopImage_2x from '../../images/card/bookShop@2x.png';\n\nexport const booksListRef = document.querySelector('.shop-books-list');\nexport const paginationRef = document.querySelector('.pagination');\nconst TOTAL_BOOKS_PER_PAGE = 3;\n\nfunction getBooksPageMarkup(bookList, currentPage = 1) {\n  const startIndex = (currentPage - 1) * TOTAL_BOOKS_PER_PAGE;\n  const endIndex = startIndex + TOTAL_BOOKS_PER_PAGE;\n  \n  return getBooksMarkup(bookList.slice(startIndex, endIndex));\n}\n\nfunction getBtnsMarkup(bookList) {\n  const totalPages = Math.ceil(bookList.length / TOTAL_BOOKS_PER_PAGE);\n  let btnsMarkup = '';\n\n  for (let page = 1; page <= totalPages; page += 1) {\n    btnsMarkup += `<button class=\"page-btn\">${page}</button>`;\n  }\n  return btnsMarkup;\n}\n\nfunction getBooksMarkup(bookList) {\n  return bookList\n    .map(\n      ({\n        _id,\n        book_image,\n        buy_links,\n        title,\n        book_image_width,\n        book_image_height,\n        list_name,\n        description,\n        author,\n      }) => `\n      <li class=\"gallery-item\">\n        <img class=\"gallery-image\"\n          src=\"${book_image}\"\n          width=\"${book_image_width}\"\n          height=\"${book_image_height}\"\n          alt=\"${title}\" />\n        <div class=\"div_card\">\n          <h2 class=\"title_card\">${title}</h2>\n          <p class=\"category-book\">${list_name}</p>\n          <p class=\"card_text\">${description}</p>\n          <p class=\"card_avter\">${author}</p>\n        </div>\n          <div class=\"list-shops\">\n            <a class=\"shop-link\" href=\"${buy_links[0].url}\"\n              target=\"_blank\" crossorigin=\"anonymous\"\n              rel=\"noopener noreferrer\" >\n                <img class=\"img-amazon\"\n                  src=\"${amazonImage}\"\n                  srcset=\"${amazonImage_2x} 2x\"\n                  alt=\"Amazon shop\" />\n            </a>\n            <a class=\"shop-link\" href=\"${buy_links[1].url}\"\n              target=\"_blank\" crossorigin=\"anonymous\" rel=\"noopener noreferrer\" >\n                <img class=\"img-apple\"\n                  src=\"${appleImage}\"\n                  srcset=\"${appleImage_2x} 2x\"\n                  alt=\"Apple shop\" />\n            </a>\n            <a class=\"shop-link\" href=\"${buy_links[4].url}\"\n              target=\"_blank\" crossorigin=\"anonymous\"  rel=\"noopener noreferrer\">\n                <img class=\"img-bookshop\"\n                  src=\"${bookshopImage}\"\n                  srcset=\"${bookshopImage_2x} 2x\"\n                  alt=\"Book shop\" />\n            </a>\n          </div>\n          \n          <button class=\"btn-card_remove\" data-book-id=\"${_id}\">\n            <svg class=\"btn-svg-remove\">\n              <use href=\"${sprite}#icon-trash\"></use>\n            </svg>\n          </button>\n      </li>\n      `)\n    .join('');\n}\n\nfunction getEmptyShopListMarkup() {\n  return `\n  <p class=\"empty-shop-text\">This page is empty, add some books and proceed to order.</p>\n  <img class=\"empty-shop-img\" src=\"${alternativeBooks}\" srcset=\"${alternativeBooks_2x} 2x\" alt=\"Alternative Books, when shopping list is empty\">\n  `;\n}\n\nexport function renderShopListSection(bookList) {\n  if (bookList) {\n    booksListRef.innerHTML = getBooksPageMarkup(bookList);\n    paginationRef.innerHTML = getBtnsMarkup(bookList);\n\n    const firstPageBtn = document.querySelector('.page-btn');\n    firstPageBtn.classList.add('active-page');\n  } else {\n    const shopBooksWrapper = document.querySelector('.shopping-books-wrapper');\n    shopBooksWrapper.classList.add('empty');\n\n    booksListRef.innerHTML = getEmptyShopListMarkup();\n    paginationRef.innerHTML = '';\n  }\n}\n\nexport function renderSelectedBooksPage(bookList, currentPage) {\n  booksListRef.innerHTML = getBooksPageMarkup(bookList, currentPage);\n}","import {\n  booksListRef,\n  paginationRef,\n  renderShopListSection,\n  renderSelectedBooksPage,\n} from './js/shopping-list/shopping-markup';\n\nfunction getBookListFromStorage() {\n  return JSON.parse(localStorage.getItem('SHOPPING-BOOKS-LIST'));\n}\n\nfunction checkViewPortForSupportDisplay() {\n  const supportRef = document.querySelector('.support');\n  const viewportWidth = window.innerWidth;\n\n  if (viewportWidth < 1440) {\n    supportRef.classList.add('is-hide');\n  }\n}\n\nfunction removeBookInLocalStorage(bookId) {\n  const bookList = getBookListFromStorage();\n  const updateBookList = bookList.filter(book => book._id !== bookId);\n\n  if (updateBookList.length === 0) {\n    localStorage.removeItem('SHOPPING-BOOKS-LIST');\n  } else {\n    localStorage.setItem('SHOPPING-BOOKS-LIST', JSON.stringify(updateBookList));\n  }\n}\n\ncheckViewPortForSupportDisplay();\nrenderShopListSection(getBookListFromStorage());\n\nbooksListRef.addEventListener('click', ({ target }) => {\n  const bookCard = target.closest('.btn-card_remove');\n  if (bookCard) {\n    const bookId = bookCard.dataset.bookId;\n\n    removeBookInLocalStorage(bookId);\n    renderShopListSection(getBookListFromStorage());\n  }\n});\n\npaginationRef.addEventListener('click', ({ target }) => {\n  const clickOnBtn = target.closest('.page-btn');\n\n  if (clickOnBtn) {\n    const activePage = paginationRef.querySelector('.active-page');\n    if (activePage) {\n      activePage.classList.remove('active-page');\n    }\n    target.classList.add('active-page');\n\n    renderSelectedBooksPage(getBookListFromStorage(), target.textContent);\n  }\n});"],"names":["$0380ce8f1f064ccc$export$6503ec6e8aabbaf","$0380ce8f1f064ccc$export$f7ad0328861e2f03","$0380ce8f1f064ccc$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","$7dd1ddf6834435ca$export$bdfd709ae4826697","$7dd1ddf6834435ca$var$bundleURL","$7dd1ddf6834435ca$var$getBaseURL","url","replace","value","err","matches","stack","match","$7dd1ddf6834435ca$var$getBundleURL","parcelRequire","register","JSON","parse","$a6aecd8184ec2599$exports","getBundleURL","resolve","$f45a4812feb83c3d$exports","$8c66589be1c0af25$exports","$a5286cb03cb160e5$exports","$8b23b0fe3e0ec34f$exports","$ae9c39d7de17c3da$exports","$b33c4f052111d9bf$exports","$e8925bed9b272dea$exports","supportRef","$1d43746a886b8eff$export$e37bf901f813b69","document","querySelector","$1d43746a886b8eff$export$282ede1754680aae","$1d43746a886b8eff$var$getBooksPageMarkup","bookList","currentPage","arguments","startIndex","endIndex","$1d43746a886b8eff$var$getBooksMarkup","slice","map","param","_id","book_image","buy_links","title","book_image_width","book_image_height","list_name","description","author","concat","$parcel$interopDefault","join","$1d43746a886b8eff$export$c6cc08f1aa92a632","innerHTML","totalPages","Math","ceil","btnsMarkup","page","$1d43746a886b8eff$var$getBtnsMarkup","classList","add","$818260bfa8f12ff7$var$getBookListFromStorage","localStorage","getItem","window","innerWidth","addEventListener","bookCard","target","closest","bookId","updateBookList","filter","book","removeItem","setItem","stringify","$818260bfa8f12ff7$var$removeBookInLocalStorage","dataset","activePage","remove","textContent"],"version":3,"file":"shopping-list.7e4c1d92.js.map"}